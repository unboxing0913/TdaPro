<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.unboxing.mapper.ReviewMapper">

<!-- 목록보기 -->
<select id="getList" resultType="org.unboxing.domain.ReviewVO">
<!-- 비교연산자 , 부등호 사용하기위한 CDATA 사용 -->
<![CDATA[
select * from review_board where bno > 0 
]]>
</select>

<!-- C (create) -->
<insert id="insert">
	insert into review_board (bno,title,content,writer)
	values (rv_seq_board.nextval,#{title},#{content},#{writer})
</insert>

<insert id="insertSelectKey">
	<selectKey keyProperty="bno" order="BEFORE" resultType="long">
		select rv_seq_board.nextval from dual
	</selectKey>
	insert into review_board (bno,title,content,writer)
	values (#{bno},#{title},#{content},#{writer})
</insert>


<!-- R (read) -->
<select id="read" resultType="org.unboxing.domain.ReviewVO">
	select * from review_board where bno = #{bno}
</select>


<!-- U (update) -->
<update id="update">
	update review_board set
	title = #{title},
	content = #{content},
	writer = #{writer},
	updateDate = sysdate
	where bno = #{bno}
</update>


<!-- D (delete)-->
<delete id="delete">
	delete from review_board where bno = #{bno}
</delete>
</mapper>